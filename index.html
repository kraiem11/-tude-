<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ã‰tude - Pi Network</title>
    <script src="https://sdk.minepi.com/pi-sdk.js" defer></script>
    <style>
        body {
            font-family: 'Segoe UI', sans-serif;
            background-color: #f8f9fa;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }
        header {
            background-color: #673ab7;
            color: white;
            width: 100%;
            padding: 30px 0;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }
        .container { padding: 20px; width: 90%; max-width: 400px; }
        .status {
            padding: 15px;
            margin: 20px 0;
            border-radius: 12px;
            font-weight: bold;
            background: #eee;
        }
        .success { background: #d4edda; color: #155724; border: 1px solid #c3e6cb; }
        .btn-login {
            background-color: #ffa000;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 30px;
            font-size: 18px;
            font-weight: bold;
            width: 100%;
            cursor: pointer;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .card {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin-top: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
    </style>
</head>
<body>

<header>
    <h1>ğŸ“š Ã‰tude</h1>
    <p>Ù…Ù†ØµØ© Ø§Ù„ØªØ¹Ù„Ù… Ø§Ù„Ù…ØµØºØ±</p>
</header>

<div class="container">
    <div id="status-box" class="status">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ù…ÙƒØªØ¨Ø© Pi...</div>
    
    <button id="login-btn" class="btn-login" onclick="login()">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¹Ø¨Ø± Pi</button>

    <div class="card">
        <h3>Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ</h3>
        <p>Ø¨Ù…Ø¬Ø±Ø¯ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ØŒ Ø³ØªØªÙ…ÙƒÙ† Ù…Ù† Ø§Ù„Ø¨Ø¯Ø¡ ÙÙŠ ÙƒØ³Ø¨ ÙˆÙ…Ø´Ø§Ø±ÙƒØ© Ø§Ù„Ù…Ø¹Ø±ÙØ©.</p>
    </div>
</div>

<script>
    // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
    window.onload = function() {
        if (window.Pi) {
            try {
                window.Pi.init({ version: "2.0", sandbox: true });
                document.getElementById('status-box').innerText = "âœ… Ù…ÙƒØªØ¨Ø© Pi Ø¬Ø§Ù‡Ø²Ø©";
                document.getElementById('status-box').className = "status success";
            } catch (e) {
                console.error(e);
            }
        } else {
            document.getElementById('status-box').innerText = "âŒ Ø§ÙØªØ­ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø¯Ø§Ø®Ù„ Pi Browser";
        }
    };

    async function login() {
        const btn = document.getElementById('login-btn');
        btn.innerText = "Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø§ØªØµØ§Ù„...";
        
        try {
            const auth = await window.Pi.authenticate(['username', 'payments'], (payment) => {
                console.log("Payment in progress...", payment);
            });
            
            document.getElementById('status-box').innerHTML = "âœ… Ø£Ù‡Ù„Ø§Ù‹ Ø¨ÙƒØŒ " + auth.user.username;
            btn.innerText = "ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„";
            btn.style.backgroundColor = "#4caf50";
            alert("ØªÙ… Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù†Ø¬Ø§Ø­ ÙŠØ§ " + auth.user.username);
            
        } catch (err) {
            alert("ØªÙ†Ø¨ÙŠÙ‡: " + err.message);
            btn.innerText = "ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¹Ø¨Ø± Pi";
        }
    }
</script>

</body>
</html>
